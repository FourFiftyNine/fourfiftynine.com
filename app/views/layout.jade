!!! 5
//if lt IE 7
  html.no-js.lt-ie9.lt-ie8.lt-ie7(lang='en')
//if IE 7
  html.no-js.lt-ie9.lt-ie8(lang='en')
//if IE 8
  html.no-js.lt-ie9(lang='en')
//[if gt IE 8]><!
html.no-js(lang='en')
  //<![endif]
  head
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge,chrome=1')
    meta(name='viewport', content='width=device-width; initial-scale=1.5; maximum-scale=1.0;')
    meta(name="format-detection", content="telephone=no")
    //- TODO unless....``
    pageTitle = ((page_title.get()) ? page_title.get() + ' | ' : '') + 'FourFiftyNine - Web Development and Design'
    title= pageTitle
    //- - if (page_title.get())
    //-   title= (page_title.get()) ?  + ' | FourFiftyNine - development and design'
    //- - else
    //-   title FourFiftyNine - Web Development and Design
    
    meta(name='description', content='')
    meta(name='viewport', content='width=device-width')
    //-
      //if lt IE9
        <script src="dist/html5shiv.js"></script>
      //<![endif]
    - if (process.env.NODE_ENV == 'production')
      link(rel='stylesheet', href='/stylesheets/compressed.css')
    - else 
      link(rel='stylesheet', href='/stylesheets/style.css')

    script(src='/javascript/libs/modernizr-2.5.3.min.js')
    script(src='http://use.typekit.com/mzx2wbd.js')
    script try{Typekit.load();}catch(e){}

  view_name = view_body_class.get();
  body(class="#{body_classes} #{view_name}")
    //- #flash-message
    header#navigation.clearfix
      h1
        a.pushstate(href='/')
          img(src='/images/logo.png', alt='FourFiftyNine - Web Development and Design')
      nav.clearfix
        ul
          li.projects
            a.pushstate(href='/projects') projects
          li.tech
            a.pushstate(href='/technology') technology
          li.about
            a.pushstate(href='/about') about
          li.contact
            a.pushstate(href='/contact') contact

    #content.clearfix
      !=body
      #spinner
    #top-border
  
    script(src='//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')
    script
      window.jQuery || document.write("<script src='javascript/libs/jquery-1.7.2.min.js'><\\/script>")

    //- script(src='/javascript/orientation-detect.js')
    //- script(src="http://js.pusher.com/1.11/pusher.min.js")
    //- script(src="/javascript/libs/chosen/chosen.jquery.min.js")

    script(src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.9/jquery.validate.min.js")
    script(src="http://fgnass.github.com/spin.js/dist/spin.min.js") //- TODO localize


    - if (process.env.NODE_ENV == 'production')
      script(src= '/javascript/all.min.js')
      script
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-32695090-1']);
        _gaq.push(['_trackPageview']);
        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    - else
      script(src="/javascript/libs/cycle/jquery.cycle.all.js")
      script(src="/javascript/libs/jquery.form.js")
      script(src='/javascript/plugins.js')
      script(src='/javascript/main.js')